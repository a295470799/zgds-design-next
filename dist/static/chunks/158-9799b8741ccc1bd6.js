(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[158],{6158:function(n,t,e){"use strict";e.d(t,{Z:function(){return k}});var r,i=e(655),o=e(7294),u=(r=o.useEffect,function(n,t){var e=(0,o.useRef)(!1);r(function(){return function(){e.current=!1}},[]),r(function(){if(e.current)return n();e.current=!0},t)}),a=function(n,t){var e=t.manual,r=t.ready,a=void 0===r||r,c=t.defaultParams,s=void 0===c?[]:c,f=t.refreshDeps,l=t.refreshDepsAction,v=(0,o.useRef)(!1);return v.current=!1,u(function(){!e&&a&&(v.current=!0,n.run.apply(n,(0,i.ev)([],(0,i.CR)(s),!1)))},[a]),u(function(){!v.current&&(e||(v.current=!0,l?l():n.refresh()))},(0,i.ev)([],(0,i.CR)(void 0===f?[]:f),!1)),{onBefore:function(){if(!a)return{stopNow:!0}}}};a.onInit=function(n){var t=n.ready;return{loading:!n.manual&&(void 0===t||t)}};var c=e(8224);function s(n,t){var e=(0,o.useRef)({deps:t,obj:void 0,initialized:!1}).current;return!1!==e.initialized&&(0,c.Z)(e.deps,t)||(e.deps=t,e.obj=n(),e.initialized=!0),e.obj}var f=e(5210),l=new Map,v=function(n,t,e){var r=l.get(n);(null==r?void 0:r.timer)&&clearTimeout(r.timer);var o=void 0;t>-1&&(o=setTimeout(function(){l.delete(n)},t)),l.set(n,(0,i.pi)((0,i.pi)({},e),{timer:o}))},d=new Map,p=function(n,t){d.set(n,t),t.then(function(t){return d.delete(n),t}).catch(function(){d.delete(n)})},h={},m=function(n,t){h[n]&&h[n].forEach(function(n){return n(t)})},g=function(n,t){return h[n]||(h[n]=[]),h[n].push(t),function(){var e=h[n].indexOf(t);h[n].splice(e,1)}},y=function(n,t){var e=t.cacheKey,r=t.cacheTime,u=void 0===r?3e5:r,a=t.staleTime,c=void 0===a?0:a,h=t.setCache,y=t.getCache,b=(0,o.useRef)(),R=(0,o.useRef)(),w=function(n,t){h?h(t):v(n,u,t),m(n,t.data)},T=function(n,t){return(void 0===t&&(t=[]),y)?y(t):l.get(n)};return(s(function(){if(e){var t=T(e);t&&Object.hasOwnProperty.call(t,"data")&&(n.state.data=t.data,n.state.params=t.params,(-1===c||new Date().getTime()-t.time<=c)&&(n.state.loading=!1)),b.current=g(e,function(t){n.setState({data:t})})}},[]),(0,f.Z)(function(){var n;null===(n=b.current)||void 0===n||n.call(b)}),e)?{onBefore:function(n){var t=T(e,n);return t&&Object.hasOwnProperty.call(t,"data")?-1===c||new Date().getTime()-t.time<=c?{loading:!1,data:null==t?void 0:t.data,error:void 0,returnNow:!0}:{data:null==t?void 0:t.data,error:void 0}:{}},onRequest:function(n,t){var r=d.get(e);return r&&r!==R.current||(r=n.apply(void 0,(0,i.ev)([],(0,i.CR)(t),!1)),R.current=r,p(e,r)),{servicePromise:r}},onSuccess:function(t,r){var i;e&&(null===(i=b.current)||void 0===i||i.call(b),w(e,{data:t,params:r,time:new Date().getTime()}),b.current=g(e,function(t){n.setState({data:t})}))},onMutate:function(t){var r;e&&(null===(r=b.current)||void 0===r||r.call(b),w(e,{data:t,params:n.state.params,time:new Date().getTime()}),b.current=g(e,function(t){n.setState({data:t})}))}}:{}},b=e(3279),R=e.n(b),w=function(n,t){var e=t.debounceWait,r=t.debounceLeading,u=t.debounceTrailing,a=t.debounceMaxWait,c=(0,o.useRef)(),s=(0,o.useMemo)(function(){var n={};return void 0!==r&&(n.leading=r),void 0!==u&&(n.trailing=u),void 0!==a&&(n.maxWait=a),n},[r,u,a]);return((0,o.useEffect)(function(){if(e){var t=n.runAsync.bind(n);return c.current=R()(function(n){n()},e,s),n.runAsync=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return new Promise(function(e,r){var o;null===(o=c.current)||void 0===o||o.call(c,function(){t.apply(void 0,(0,i.ev)([],(0,i.CR)(n),!1)).then(e).catch(r)})})},function(){var e;null===(e=c.current)||void 0===e||e.cancel(),n.runAsync=t}}},[e,s]),e)?{onCancel:function(){var n;null===(n=c.current)||void 0===n||n.cancel()}}:{}},T=function(n,t){var e=t.loadingDelay,r=t.ready,i=(0,o.useRef)();if(!e)return{};var u=function(){i.current&&clearTimeout(i.current)};return{onBefore:function(){return u(),!1!==r&&(i.current=setTimeout(function(){n.setState({loading:!0})},e)),{loading:!1}},onFinally:function(){u()},onCancel:function(){u()}}},x=e(2982);function C(){return!x.Z||"hidden"!==document.visibilityState}var P=[];x.Z&&window.addEventListener("visibilitychange",function(){if(C())for(var n=0;n<P.length;n++)(0,P[n])()},!1);var S=function(n,t){var e=t.pollingInterval,r=t.pollingWhenHidden,i=void 0===r||r,a=t.pollingErrorRetryCount,c=void 0===a?-1:a,s=(0,o.useRef)(),f=(0,o.useRef)(),l=(0,o.useRef)(0),v=function(){var n;s.current&&clearTimeout(s.current),null===(n=f.current)||void 0===n||n.call(f)};return(u(function(){e||v()},[e]),e)?{onBefore:function(){v()},onError:function(){l.current+=1},onSuccess:function(){l.current=0},onFinally:function(){-1===c||-1!==c&&l.current<=c?s.current=setTimeout(function(){if(i||C())n.refresh();else{var t;f.current=(t=function(){n.refresh()},P.push(t),function(){var n=P.indexOf(t);P.splice(n,1)})}},e):l.current=0},onCancel:function(){v()}}:{}},j=[];if(x.Z){var O=function(){if(C()&&(!x.Z||void 0===navigator.onLine||navigator.onLine))for(var n=0;n<j.length;n++)(0,j[n])()};window.addEventListener("visibilitychange",O,!1),window.addEventListener("focus",O,!1)}var E=function(n,t){var e=t.refreshOnWindowFocus,r=t.focusTimespan,u=void 0===r?5e3:r,a=(0,o.useRef)(),c=function(){var n;null===(n=a.current)||void 0===n||n.call(a)};return(0,o.useEffect)(function(){if(e){var t,r,o,s=(t=n.refresh.bind(n),r=!1,function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];r||(r=!0,t.apply(void 0,(0,i.ev)([],(0,i.CR)(n),!1)),setTimeout(function(){r=!1},u))});a.current=(o=function(){s()},j.push(o),function(){var n=j.indexOf(o);n>-1&&j.splice(n,1)})}return function(){c()}},[e,u]),(0,f.Z)(function(){c()}),{}},A=function(n,t){var e=t.retryInterval,r=t.retryCount,i=(0,o.useRef)(),u=(0,o.useRef)(0),a=(0,o.useRef)(!1);return r?{onBefore:function(){a.current||(u.current=0),a.current=!1,i.current&&clearTimeout(i.current)},onSuccess:function(){u.current=0},onError:function(){if(u.current+=1,-1===r||u.current<=r){var t=null!=e?e:Math.min(1e3*Math.pow(2,u.current),3e4);i.current=setTimeout(function(){a.current=!0,n.refresh()},t)}else u.current=0},onCancel:function(){u.current=0,i.current&&clearTimeout(i.current)}}:{}},M=e(3493),Z=e.n(M),H=function(n,t){var e=t.throttleWait,r=t.throttleLeading,u=t.throttleTrailing,a=(0,o.useRef)(),c={};return(void 0!==r&&(c.leading=r),void 0!==u&&(c.trailing=u),(0,o.useEffect)(function(){if(e){var t=n.runAsync.bind(n);return a.current=Z()(function(n){n()},e,c),n.runAsync=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return new Promise(function(e,r){var o;null===(o=a.current)||void 0===o||o.call(a,function(){t.apply(void 0,(0,i.ev)([],(0,i.CR)(n),!1)).then(e).catch(r)})})},function(){var e;n.runAsync=t,null===(e=a.current)||void 0===e||e.cancel()}}},[e,r,u]),e)?{onCancel:function(){var n;null===(n=a.current)||void 0===n||n.cancel()}}:{}},B=e(3930),F=e(2770),N=e(1663),W=function(n){N.Z&&!(0,F.mf)(n)&&console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof n));var t=(0,o.useRef)(n);t.current=(0,o.useMemo)(function(){return n},[n]);var e=(0,o.useRef)();return e.current||(e.current=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.current.apply(this,n)}),e.current},D=function(n){N.Z&&!(0,F.mf)(n)&&console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof n,'".')),(0,o.useEffect)(function(){null==n||n()},[])},I=function(){var n=(0,i.CR)((0,o.useState)({}),2)[1];return(0,o.useCallback)(function(){return n({})},[])},L=function(){function n(n,t,e,r){void 0===r&&(r={}),this.serviceRef=n,this.options=t,this.subscribe=e,this.initState=r,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,i.pi)((0,i.pi)((0,i.pi)({},this.state),{loading:!t.manual}),r)}return n.prototype.setState=function(n){void 0===n&&(n={}),this.state=(0,i.pi)((0,i.pi)({},this.state),n),this.subscribe()},n.prototype.runPluginHandler=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var r=this.pluginImpls.map(function(e){var r;return null===(r=e[n])||void 0===r?void 0:r.call.apply(r,(0,i.ev)([e],(0,i.CR)(t),!1))}).filter(Boolean);return Object.assign.apply(Object,(0,i.ev)([{}],(0,i.CR)(r),!1))},n.prototype.runAsync=function(){for(var n,t,e,r,o,u,a,c,s,f,l=[],v=0;v<arguments.length;v++)l[v]=arguments[v];return(0,i.mG)(this,void 0,void 0,function(){var v,d,p,h,m,g,y,b,R,w,T;return(0,i.Jh)(this,function(x){switch(x.label){case 0:if(this.count+=1,v=this.count,h=void 0!==(p=(d=this.runPluginHandler("onBefore",l)).stopNow)&&p,g=void 0!==(m=d.returnNow)&&m,y=(0,i._T)(d,["stopNow","returnNow"]),h)return[2,new Promise(function(){})];if(this.setState((0,i.pi)({loading:!0,params:l},y)),g)return[2,Promise.resolve(y.data)];null===(t=(n=this.options).onBefore)||void 0===t||t.call(n,l),x.label=1;case 1:return x.trys.push([1,3,,4]),(b=this.runPluginHandler("onRequest",this.serviceRef.current,l).servicePromise)||(b=(T=this.serviceRef).current.apply(T,(0,i.ev)([],(0,i.CR)(l),!1))),[4,b];case 2:if(R=x.sent(),v!==this.count)return[2,new Promise(function(){})];return this.setState({data:R,error:void 0,loading:!1}),null===(r=(e=this.options).onSuccess)||void 0===r||r.call(e,R,l),this.runPluginHandler("onSuccess",R,l),null===(u=(o=this.options).onFinally)||void 0===u||u.call(o,l,R,void 0),v===this.count&&this.runPluginHandler("onFinally",l,R,void 0),[2,R];case 3:if(w=x.sent(),v!==this.count)return[2,new Promise(function(){})];throw this.setState({error:w,loading:!1}),null===(c=(a=this.options).onError)||void 0===c||c.call(a,w,l),this.runPluginHandler("onError",w,l),null===(f=(s=this.options).onFinally)||void 0===f||f.call(s,l,void 0,w),v===this.count&&this.runPluginHandler("onFinally",l,void 0,w),w;case 4:return[2]}})})},n.prototype.run=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.runAsync.apply(this,(0,i.ev)([],(0,i.CR)(t),!1)).catch(function(t){n.options.onError||console.error(t)})},n.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},n.prototype.refresh=function(){this.run.apply(this,(0,i.ev)([],(0,i.CR)(this.state.params||[]),!1))},n.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,i.ev)([],(0,i.CR)(this.state.params||[]),!1))},n.prototype.mutate=function(n){var t=(0,F.mf)(n)?n(this.state.data):n;this.runPluginHandler("onMutate",t),this.setState({data:t})},n}(),_=function(n,t,e){void 0===t&&(t={}),void 0===e&&(e=[]);var r=t.manual,o=void 0!==r&&r,u=(0,i._T)(t,["manual"]);N.Z&&t.defaultParams&&!Array.isArray(t.defaultParams)&&console.warn("expected defaultParams is array, got ".concat(typeof t.defaultParams));var a=(0,i.pi)({manual:o},u),c=(0,B.Z)(n),l=I(),v=s(function(){var n=e.map(function(n){var t;return null===(t=null==n?void 0:n.onInit)||void 0===t?void 0:t.call(n,a)}).filter(Boolean);return new L(c,a,l,Object.assign.apply(Object,(0,i.ev)([{}],(0,i.CR)(n),!1)))},[]);return v.options=a,v.pluginImpls=e.map(function(n){return n(v,a)}),D(function(){if(!o){var n=v.state.params||t.defaultParams||[];v.run.apply(v,(0,i.ev)([],(0,i.CR)(n),!1))}}),(0,f.Z)(function(){v.cancel()}),{loading:v.state.loading,data:v.state.data,error:v.state.error,params:v.state.params||[],cancel:W(v.cancel.bind(v)),refresh:W(v.refresh.bind(v)),refreshAsync:W(v.refreshAsync.bind(v)),run:W(v.run.bind(v)),runAsync:W(v.runAsync.bind(v)),mutate:W(v.mutate.bind(v))}},k=function(n,t,e){return _(n,t,(0,i.ev)((0,i.ev)([],(0,i.CR)(e||[]),!1),[w,T,S,E,H,a,y,A],!1))}},2705:function(n,t,e){var r=e(5639).Symbol;n.exports=r},4239:function(n,t,e){var r=e(2705),i=e(9607),o=e(2333),u=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":u&&u in Object(n)?i(n):o(n)}},7561:function(n,t,e){var r=e(7990),i=/^\s+/;n.exports=function(n){return n?n.slice(0,r(n)+1).replace(i,""):n}},1957:function(n,t,e){var r="object"==typeof e.g&&e.g&&e.g.Object===Object&&e.g;n.exports=r},9607:function(n,t,e){var r=e(2705),i=Object.prototype,o=i.hasOwnProperty,u=i.toString,a=r?r.toStringTag:void 0;n.exports=function(n){var t=o.call(n,a),e=n[a];try{n[a]=void 0;var r=!0}catch(n){}var i=u.call(n);return r&&(t?n[a]=e:delete n[a]),i}},2333:function(n){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},5639:function(n,t,e){var r=e(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();n.exports=o},7990:function(n){var t=/\s/;n.exports=function(n){for(var e=n.length;e--&&t.test(n.charAt(e)););return e}},3279:function(n,t,e){var r=e(3218),i=e(7771),o=e(4841),u=Math.max,a=Math.min;n.exports=function(n,t,e){var c,s,f,l,v,d,p=0,h=!1,m=!1,g=!0;if("function"!=typeof n)throw TypeError("Expected a function");function y(t){var e=c,r=s;return c=s=void 0,p=t,l=n.apply(r,e)}function b(n){var e=n-d,r=n-p;return void 0===d||e>=t||e<0||m&&r>=f}function R(){var n,e,r,o=i();if(b(o))return w(o);v=setTimeout(R,(n=o-d,e=o-p,r=t-n,m?a(r,f-e):r))}function w(n){return(v=void 0,g&&c)?y(n):(c=s=void 0,l)}function T(){var n,e=i(),r=b(e);if(c=arguments,s=this,d=e,r){if(void 0===v)return p=n=d,v=setTimeout(R,t),h?y(n):l;if(m)return clearTimeout(v),v=setTimeout(R,t),y(d)}return void 0===v&&(v=setTimeout(R,t)),l}return t=o(t)||0,r(e)&&(h=!!e.leading,f=(m="maxWait"in e)?u(o(e.maxWait)||0,t):f,g="trailing"in e?!!e.trailing:g),T.cancel=function(){void 0!==v&&clearTimeout(v),p=0,c=d=s=v=void 0},T.flush=function(){return void 0===v?l:w(i())},T}},3218:function(n){n.exports=function(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}},7005:function(n){n.exports=function(n){return null!=n&&"object"==typeof n}},3448:function(n,t,e){var r=e(4239),i=e(7005);n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==r(n)}},7771:function(n,t,e){var r=e(5639);n.exports=function(){return r.Date.now()}},3493:function(n,t,e){var r=e(3279),i=e(3218);n.exports=function(n,t,e){var o=!0,u=!0;if("function"!=typeof n)throw TypeError("Expected a function");return i(e)&&(o="leading"in e?!!e.leading:o,u="trailing"in e?!!e.trailing:u),r(n,t,{leading:o,maxWait:t,trailing:u})}},4841:function(n,t,e){var r=e(7561),i=e(3218),o=e(3448),u=0/0,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,f=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(o(n))return u;if(i(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=i(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=r(n);var e=c.test(n);return e||s.test(n)?f(n.slice(2),e?2:8):a.test(n)?u:+n}}}]);